# 清除 Redis 集成

## Why

当前项目中 Redis 功能实际上处于弃用状态，未被有效使用。通过代码分析发现：

1. **功能冗余**: Redis Stream 和 SSE 功能没有在实际业务中使用
2. **维护负担**: 需要维护额外的 Redis 服务和相关配置
3. **架构复杂化**: 增加了系统复杂度但没有带来实际价值
4. **资源浪费**: Redis 服务占用额外资源但无实际用途

移除 Redis 可以：

- 简化系统架构，减少外部依赖
- 降低维护成本和部署复杂度
- 清理技术债务，保持代码库整洁
- 提高系统可靠性和启动速度

## 变更概述

本变更为移除项目中 Redis 的使用，包括所有相关的代码、依赖、配置和文档。当前系统中 Redis 相关功能实际上已被弃用，完全移除将简化系统架构并减少维护负担。

## 变更范围

### 移除的组件

- **Redis 服务**: 完整的 RedisService 类和相关功能
- **Redis 依赖**: ioredis 包和相关类型定义
- **SSE 功能**: 基于 Redis Stream 的服务器推送功能
- **健康检查**: API 中的 Redis 连接检查
- **配置**: Docker 和环境变量中的 Redis 配置
- **文档**: 所有 Redis 相关的文档和示例

### 影响的功能

- 服务器推送事件 (SSE) 功能将被完全移除
- 实时协作功能需要基于其他技术重新实现
- 健康检查 API 将不再包含 Redis 状态

## 变更理由

1. **简化架构**: Redis 在当前系统中处于未使用状态，移除可以简化系统架构
2. **减少依赖**: 减少外部服务依赖，提高系统可靠性
3. **降低维护成本**: 不需要维护 Redis 相关的代码和配置
4. **清理技术债务**: 移除弃用的功能，保持代码库整洁

## 替代方案

对于需要实时功能的场景，可以考虑：

- WebSocket 直接连接
- 基于 PostgreSQL 的通知机制
- 第三方实时通信服务

## What Changes

### 移除的组件

- RedisService 类和相关功能
- ioredis 包依赖
- Redis Stream 类型定义
- SSE 功能和 hooks
- 健康检查中的 Redis 检查
- Docker 和环境变量中的 Redis 配置

### 受影响的规范

- 部署规范: 移除 Redis 服务配置
- 数据存储规范: 移除 Redis 作为数据存储选项
- 健康检查规范: 更新健康检查逻辑
- API 规范: 移除 SSE 相关端点

## 风险评估

- **低风险**: 当前 Redis 功能已弃用，移除不会影响现有核心功能
- **兼容性**: 需要确保没有隐藏的 Redis 依赖
- **部署**: 需要更新部署配置以移除 Redis 服务
