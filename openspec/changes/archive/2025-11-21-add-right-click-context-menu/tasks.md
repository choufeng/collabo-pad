## 1. 类型定义扩展

- [x] 1.1 扩展 `CreateTopicRequest` 接口，添加可选的 x, y 坐标字段
- [x] 1.2 扩展 `Topic` 接口，添加可选的 position_x, position_y 字段
- [x] 1.3 更新相关类型文档注释，明确坐标字段的用途和格式

## 2. 后端API扩展

- [x] 2.1 修改 `/api/topic/create` 路由，支持接收 x, y 坐标参数
- [x] 2.2 实现坐标参数验证逻辑（数值范围、类型检查）
- [x] 2.3 扩展 Redis 主题存储，将坐标信息保存到 Stream 中
- [x] 2.4 更新 API 错误处理，包含坐标相关的错误信息
- [x] 2.5 添加坐标参数的单元测试

## 3. 右键菜单组件

- [x] 3.1 创建 ContextMenu 组件，支持自定义菜单项
- [x] 3.2 实现菜单位置计算，避免超出视口边界
- [x] 3.3 添加菜单样式和交互效果（悬停、键盘导航）
- [x] 3.4 实现菜单的显示/隐藏逻辑和事件处理
- [x] 3.5 添加 ESC 键关闭和点击外部关闭功能

## 4. 画布右键事件处理

- [x] 4.1 在 Board 组件中添加右键事件监听器
- [x] 4.2 实现坐标捕获逻辑，考虑 ReactFlow 视口变换
- [x] 4.3 区分画布空白区域和节点的右键点击
- [x] 4.4 阻止浏览器默认右键菜单，显示自定义菜单
- [x] 4.5 处理事件冲突，确保不影响现有功能

## 5. 坐标传递和处理

- [x] 5.1 修改 openSidebar 函数，支持传递坐标参数
- [x] 5.2 更新侧边栏组件，接收和存储坐标信息
- [x] 5.3 在侧边栏表单中显示当前位置信息（可选）
- [x] 5.4 实现坐标到画布位置的转换逻辑
- [x] 5.5 添加坐标精度测试用例

## 6. 侧边栏集成

- [x] 6.1 修改 RightSidebar 组件，支持坐标位置模式
- [x] 6.2 扩展 SidebarMode 类型，添加 "position-context" 模式
- [x] 6.3 在表单提交时包含坐标信息到 API 调用
- [x] 6.4 添加位置预览功能（可选的视觉指示器）
- [x] 6.5 更新侧边栏的关闭和清理逻辑

## 7. SSE 数据推送扩展

- [x] 7.1 更新 SSE 消息格式，确保包含坐标信息
- [x] 7.2 修改历史数据推送逻辑，处理坐标信息
- [x] 7.3 确保新主题创建时的坐标信息实时推送
- [x] 7.4 添加坐标冲突检测和位置调整逻辑
- [x] 7.5 测试多客户端坐标同步

## 8. 前端节点渲染更新

- [x] 8.1 修改主题到节点的转换逻辑，使用指定坐标
- [x] 8.2 处理缺失坐标的主题，使用默认位置算法
- [x] 8.3 更新 ReactFlow 节点位置设置逻辑
- [x] 8.4 添加坐标边界检查和自动调整
- [x] 8.5 优化节点位置计算性能

## 9. 测试覆盖

- [x] 9.1 为 ContextMenu 组件编写单元测试
- [x] 9.2 测试右键事件处理和坐标捕获
- [x] 9.3 测试 API 坐标参数的验证和处理
- [x] 9.4 测试侧边栏坐标传递和表单提交
- [x] 9.5 编端到端测试，验证完整功能流程

## 10. 用户体验优化

- [ ] 10.1 添加右键菜单的动画效果
- [ ] 10.2 优化菜单位置计算算法
- [ ] 10.3 添加键盘导航支持和快捷键
- [ ] 10.4 实现位置指示器的视觉反馈
- [ ] 10.5 添加用户引导和帮助提示

## 11. 性能优化

- [ ] 11.1 优化右键事件处理性能
- [ ] 11.2 减少坐标计算的计算开销
- [ ] 11.3 优化 ContextMenu 组件的渲染性能
- [ ] 11.4 批量处理坐标更新和渲染
- [ ] 11.5 添加性能监控和指标收集

## 12. 文档和发布

- [x] 12.1 更新 API 文档，说明新的坐标参数
- [ ] 12.2 编写功能使用指南和开发文档
- [x] 12.3 更新类型定义的导出和文档
- [ ] 12.4 添加代码示例和使用场景说明
- [x] 12.5 准备发布说明和变更日志
